(this.webpackJsonpnew_app=this.webpackJsonpnew_app||[]).push([[0],{42:function(e,t,n){e.exports=n(53)},47:function(e,t,n){},48:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},49:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),l=n.n(r),i=(n(47),n(11)),o=(n(48),n(49),n(88)),u=n(87),s=n(89);function m(e){var t={width:"500px",border:0,fontWeight:e.focused?"bold":"normal"},n=Object(a.useRef)(null);return n.current&&e.focused&&n.current.scrollIntoView(),c.a.createElement("div",{className:"container",style:{flexDirection:"column"}},c.a.createElement("span",{ref:n,style:{fontWeight:e.focused?"bold":"normal"},onClick:function(t){t.preventDefault(),e.setTime(e.time)}},function(e){var t=e%60,n=(e-t)/60;return t<10&&(t="0"+t.toString()),"".concat(n,":").concat(t)}(e.time)),c.a.createElement("input",{type:"text",value:e.text,style:t,onChange:function(t){t.preventDefault(),e.editLyrics(t.target.value,e.time)}}))}function d(e){var t=Object(a.useRef)(null);return t.current&&e.focused&&t.current.scrollIntoView(),c.a.createElement("div",{className:"container",style:{fontWeight:e.focused?"bold":"normal",flexDirection:"column"}},c.a.createElement("span",{ref:t,onClick:function(t){t.preventDefault(),e.setTime(e.time)}},function(e){var t=e%60,n=(e-t)/60;return t<10&&(t="0"+t.toString()),"".concat(n,":").concat(t)}(e.time)),c.a.createElement("div",null,e.text))}function f(e){var t,n,r=Object(a.useState)(0),l=Object(i.a)(r,2),o=l[0],u=l[1],s=Object(a.useRef)(null);return e.isEdit?(n="Edit",t=Object.keys(e.lyrics).map((function(t){return c.a.createElement(m,{text:e.lyrics[t],focused:t===e.check,time:t,editLyrics:e.editLyrics,setTime:e.setTime})}))):(n="Read and highlight",t=Object.keys(e.lyrics).map((function(t){return c.a.createElement(d,{text:e.lyrics[t],focused:t===e.check,time:t,setTime:e.setTime})}))),c.a.createElement("div",{className:"container",style:{flexDirection:"column"}},c.a.createElement("div",{style:{fontSize:20}},n),c.a.createElement("div",{style:{border:"1px solid black",overflowY:"scroll",height:"200px",width:"800px",flexDirection:"column",justifyContent:"flex-start"},className:"container"},t),c.a.createElement("br",null),c.a.createElement("div",null,c.a.createElement("input",{type:"number",value:o,ref:s,onChange:function(e){e.preventDefault(),u(e.target.value)}}),c.a.createElement("button",{onClick:function(t){t.preventDefault(),e.addLyrics(o),u(0)}},"Add timestamp")))}var v=function(){var e=Object(a.useState)(0),t=Object(i.a)(e,2),n=t[0],r=t[1],l=Object(a.useRef)(null),m=Object(a.useState)(null),d=Object(i.a)(m,2),v=d[0],b=d[1],p=Object(a.useRef)(null),E=Object(a.useRef)(null),y=Object(a.useState)(""),h=Object(i.a)(y,2),g=h[0],x=h[1],j=Object(a.useState)(0),O=Object(i.a)(j,2),k=O[0],w=O[1],C=Object(a.useState)(!0),R=Object(i.a)(C,2),S=R[0],D=R[1],L=Object(a.useState)(""),N=Object(i.a)(L,2),T=N[0],U=N[1],I=null;function B(e){v?p.current.currentTime=e:alert("no file")}p.current&&(I=c.a.createElement("div",{className:"container",style:{flexDirection:"column",alignItems:"center"}},c.a.createElement("div",{className:"container"},c.a.createElement("button",{onClick:function(){p.current.playbackRate=.5}},"0.5x"),c.a.createElement("button",{onClick:function(){p.current.playbackRate=.8}},"0.8x"),c.a.createElement("button",{onClick:function(){p.current.playbackRate=1}},"1.0x"),c.a.createElement("button",{onClick:function(){p.current.playbackRate=1.2}},"1.2x"),c.a.createElement("button",{onClick:function(){p.current.playbackRate=2}},"2.0x")),c.a.createElement("div",{className:"container"},c.a.createElement("button",{onClick:function(){B(p.current.currentTime+5)}},"Forward 5 seconds"),c.a.createElement("button",{onClick:function(){B(p.current.currentTime-5)}},"Go back 5 seconds"))));var W=c.a.createElement("div",{className:"container",style:{border:"1px solid black",overflowY:"scroll",height:"200px",width:"800px"}});if(v&&g){var A={};if(T)for(var J in g)g[J].toString().includes(T)&&(A[J]=g[J]);else A=g;W=c.a.createElement(f,{isEdit:S,check:k,lyrics:A,setTime:B,editLyrics:function(e,t){var a=g;a[t]=e,x(a),r(1!==n?1:2)},addLyrics:function(e){var t=g;t[e]="lyrics",x(t),r(1!==n?1:2)}})}var F=["red","blue","green","yellow","green"],H=Object(a.useState)(0),V=Object(i.a)(H,2),Y=V[0],_=V[1],z=Object(a.useState)([]),G=Object(i.a)(z,2),M=G[0],$=G[1],q=null;S||(q=c.a.createElement(o.a,{variant:"contained",color:"secondary",onClick:function(e){e.preventDefault();var t=M,n=window.getSelection().getRangeAt(0),a=document.createElement("span"),c=Y%5;a.setAttribute("style","background-color: ".concat(F[c])),_(Y+1),n.surroundContents(a),t.push(n.toString()+"\n"),$(t)}},"Highlight selected text"));var K=Object(a.useState)("lyrics.txt"),P=Object(i.a)(K,2),Q=P[0],X=P[1],Z=Object(a.useState)([]),ee=Object(i.a)(Z,2),te=ee[0],ne=ee[1];return c.a.createElement("div",{className:"container",style:{flexDirection:"column",alignItems:"center"}},c.a.createElement("div",{className:"container",style:{flexDirection:"column",justifyContent:"flex-start",width:"800px"}},c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("input",{style:{display:"none"},type:"file",accept:"audio/*",ref:l,onChange:function(e){e.preventDefault(),alert("".concat(l.current.files[0].name)),b(URL.createObjectURL(l.current.files[0]))}}),c.a.createElement(o.a,{variant:"raised",component:"span"},"Load music"))),c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("input",{style:{display:"none"},type:"file",accept:"text/*",ref:E,onChange:function(e){e.preventDefault();var t=new FileReader;t.onload=function(e){var n=t.result;alert(n);var a=JSON.parse(n);x(a)},t.readAsText(E.current.files[0])}}),c.a.createElement(o.a,{variant:"raised",component:"span"},"Load lyrics")))),c.a.createElement("div",null,c.a.createElement(o.a,{variant:"contained",color:"secondary",onClick:function(){D(!S),$([])}},"Edit/Highlight"),q),c.a.createElement(u.a,{variant:"outlined",placeholder:"search",value:T,onChange:function(e){e.preventDefault(),U(e.target.value)}})),c.a.createElement("div",{className:"container"},W),c.a.createElement("div",{className:"container"},c.a.createElement("audio",{src:v,controls:!0,ref:p,onTimeUpdate:function(e){if(e.preventDefault(),g&&p){for(var t=0,n=0;p.current.currentTime>=Object.keys(g)[t];)n=Object.keys(g)[t],t+=1;w(n)}},style:{width:"800px"}})),I,c.a.createElement("div",null,c.a.createElement(o.a,{variant:"contained",color:"default",onClick:function(e){e.preventDefault(),function(e){var t=[JSON.stringify(g)],n=new Blob(t),a=URL.createObjectURL(n),c=[];for(var r in g)c.push(g[r]+"\n");var l=new Blob(c),i=URL.createObjectURL(l),o=new Blob(M),u=URL.createObjectURL(o);alert("Lyrics and highlight saved as "+e),ne([e,a,i,u])}(Q)}},"Save and export lyrics/highlights as (.txt, .doc or .rtf)"),":",c.a.createElement(u.a,{value:Q,onChange:function(e){return X(e.target.value)}})),c.a.createElement("div",{className:"container",style:{flexDirection:"column",alignItems:"center"}},c.a.createElement(s.a,{href:te[1],download:te[0]},"Export lyrics to be reused"),c.a.createElement(s.a,{href:te[2],download:te[0]},"Export lyrics without timestamp"),c.a.createElement(s.a,{href:te[3],download:te[0]},"Export highlights only")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.a388c63d.chunk.js.map